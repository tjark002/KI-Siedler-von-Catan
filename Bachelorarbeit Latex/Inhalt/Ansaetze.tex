\chapter{Konzeption}
\label{cha:Konzept}
Nachdem zuvor die Grundlagen erläutert wurden, soll in diesem Kapitel die Problemstellung konkretisiert und ein Entwurf zu ihrer Lösung präsentiert werden. Dabei wird zunächst allgemein beschrieben, was eine entsprechende Softwarelösung umsetzen müsste, bevor anschließend im Entwurf konkrete Anforderungen dazu formuliert werden.

\section{Problemstellung}
\label{cha:Problemstellung}
Rundenbasierte Strategiespiele sind seit geraumer Zeit ein fundamentaler Bestandteil der Videospielindustrie. Sie existieren in unterschiedlichen Variationen und der Erfolg des Spielers ist bei diesen Spielen maßgeblich von der gewählten Strategie abhängig. Seit den 1990er-Jahren werden vermehrt computergesteuerte Spieler als Gegner für den Menschen eingesetzt. Als Beispiel hierfür lässt sich u.a. die Entwicklung von KI-Spielern im rundenbasierten Strategiespiel \textit{Civilization: Call To Power} anführen (\cite[vgl. S. 1]{Davis1999}).

Die Entwicklung von KI-Spielern, die in den 1990er-Jahren eine Herausforderung für Industrie und Forschung darstellte, ist heute Alltag geworden und beinahe jedes Strategiespiel, ob rundenbasiert oder kontinuierlich, verfügt über computergesteuerte Spieler. Um die Entwicklung solcher KIs auch in der universitären Lehre behandeln zu können,  erscheint es sinnvoll, den Studenten  eine Möglichkeit dazu zur Verfügung zu stellen, ihre eigens entwickelte KI zu testen und gegeneinander antreten zu lassen.

Aus dieser Idee ergeben sich mehrere Anforderungen, deren Erfüllung eine entsprechende Software gewährleisten sollte, und die gleichzeitig die Problemstellung verdeutlichen:

\begin{enumerate}
	\item Die Software muss mindestens zwei KI-Spieler zulassen. 
	\item Die Software muss ein möglichst faires Spiel bereitstellen.
	\item Die Software muss eine einfache Integration neuer KIs ermöglichen und einen schnellen Austausch dieser gewährleisten. 
	\item Die Software muss rundenbasiertes Spielen ermöglichen. 
	\item Die Software muss strenge Regeln formulieren, sodass KIs kein unerwünschten Verhalten lernen. 
	\item Die Software muss einen Sieger feststellen. 
\end{enumerate}

Aus der obigen Konkretisierung der Problemstellung lässt sich erkennen, dass die genannte Software sowohl das Spiel selbst umfassen als auch eine Schnittstelle für die entwickelten KI-Spieler bereitstellen sollte. Insgesamt lässt sich die Problemstellung zusammenfassen, indem man festhält, dass eine Software entwickelt werden muss, die aus zwei Komponenten besteht (rundenbasiertes Strategiespiel + KI-Schnittstelle) und die oben genannten Aspekte berücksichtigt.

\section{Entwurf}
\label{cha:Entwurf}
Im Hinblick auf die in Kapitel \ref{cha:Problemstellung}  erläuterte Problemstellung und die damit einhergehenden Anforderungen, wird nachfolgend beschrieben, wie diese gelöst und umgesetzt werden kann bzw. können. Im ersten Schritt wird dazu eine grobe Spezifikation erstellt, ausgehend von welcher anschließend weiterführende Details erläutert werden. Die beiden Komponenten der Software werden im Folgenden als \quotes{Spiel} und \quotes{Schnittstelle} bezeichnet.

\textbf{Das Spiel:}\\
Als Grundlage für das Spiel wird das rundenbasierte Brettspiel \textit{Siedler von Catan} genutzt. Zur Implementierung des Spiels wird \textit{Unity} in Verbindung mit der Programmiersprache \textit{C\#} genutzt. Das Endergebnis soll möglichst nah am echten Spiel sein, was eine exakte Umsetzung der Spielregeln erfordert. Auf diese Weise kann gleichzeitig die Einhaltung mehrerer Anforderungen sichergestellt werden. Durch das Umsetzen der Spielregeln werden bereits mindestens zwei Spieler garantiert. Zusätzlich sorgt dies für ein möglichst faires Spiel, welches zudem rundenbasiert ist und unerwünschtes Verhalten weitestgehend ausschließt. Da KI-Spieler je nach Lernverfahren sehr stark darin sein können, Lücken in den Regeln zu finden, kann allerdings auch durch eine strenge Implementierung nicht vollständig verhindert werden, dass es zu einem solchen unerwünschtem Verhalten kommt. . Insgesamt lassen sich auf Grundlage der in Kapitel \ref{cha:Problemstellung} genannten Aspekte folgende konkrete Anforderungen für das Spiel formulieren:

\begin{enumerate}
	\item  \textbf{Titel: }Generierung \\ \textbf{Beschreibung: }Das Spiel muss nach den Regeln des Brettspiels ein Spielfeld generieren. 
	\item \textbf{Titel: }Straßenbau \\ \textbf{Beschreibung: }Das Spiel muss den Bau von Straßen erlauben.
	\item \textbf{Titel: }Siedlungsbau \\ \textbf{Beschreibung: }Das Spiel muss den Bau von Siedlungen erlauben. 
	\item \textbf{Titel: }Städtebau \\ \textbf{Beschreibung: }Das Spiel muss den Bau von Städten erlauben. 
	\item \textbf{Titel: }Gewinnermittlung \\ \textbf{Beschreibung: }Das Spiel muss am Ende des Spiels einen Gewinner ermitteln. 
	\item \textbf{Titel: }Zug \\ \textbf{Beschreibung: }Das Spiel muss jedem Spieler in jeder Runde einen Zug bereitstellen, der mindestens das Rollen zweier Würfel und die anschließende Verteilung von Rohstoffkarten sowie optional den Kauf von Objekten beinhaltet.
	\item \textbf{Titel: }Mindestabstand \\ \textbf{Beschreibung: }Das Spiel muss gewährleisten, dass zwischen Siedlungen bzw. Städten mind. 2 Straßen Platz ist.
	\item \textbf{Titel: }Upgrades auf Städte \\ \textbf{Beschreibung: }Das Spiel muss Upgrades auf Städte erlauben. 
	\item \textbf{Titel: }Längste Handelsstraße \\ \textbf{Beschreibung: }Das Programm muss die \glqq Längste Handelsstraße \grqq berechnen. 
\end{enumerate}

Neben den genannten Mindestanforderungen lassen sich die folgenden Soll- bzw. Kann- Anforderungen formulieren, die durch ihre Umsetzung die Komplexität des Spiels erhöhen und so ausgeklügeltere Strategien seitens der KI erfordern. Das Ziel der Softwareentwicklung ist es, alle Muss-Anforderungen zu implementieren und dann ausgewählten Soll- und Kann-Anforderungen zu ergänzen. Hierbei wird auf die Erfüllung mindestens zweier Kann-Anforderungen abgezielt.

\begin{enumerate}
	\item \textbf{Titel: }Reale Spieler \\ \textbf{Beschreibung: }Das Spiel soll es ermöglichen, dass reale Spieler das Spiel spielen können.
	\item \textbf{Titel: }Gemischte Duelle \\ \textbf{Beschreibung: }Das Spiel soll es ermöglichen, dass KI und reale Spieler gegeneinander antreten können.
	\item \textbf{Titel: }Funktion der Ereigniskarten \\ \textbf{Beschreibung: }Das Spiel kann  die Funktion der Ereigniskarten integrieren.
	\item \textbf{Titel: }Ausspielen und Sammeln von Ereigniskarten \\ \textbf{Beschreibung: }Das Spiel kann das Sammeln und Ausspielen von Ereigniskarten ermöglichen. 
	\item \textbf{Titel: }Der Räuber \\ \textbf{Beschreibung: }Das Spiel kann über einen Dieb verfügen, der einzelne Ressourcenfelder unbrauchbar macht, solange er das jeweilige Feld besetzt und immer dann von einem Spieler versetzt werden kann, wenn er eine Sieben würfelt.
	\item \textbf{Titel: }Mehr als zwei Spieler \\ \textbf{Beschreibung: }Das Spiel kann es ermöglichen, dass mehr als zwei Spieler gegeneinander antreten können.
	\item \textbf{Titel: }Handel \\ \textbf{Beschreibung: }Das Spiel kann Handel zwischen den Spielern ermöglichen. 
	\item \textbf{Titel: }Gewinnwahrscheinlichkeiten \\ \textbf{Beschreibung: }Das Spiel kann aktuelle Gewinnwahrscheinlichkeiten ausgeben. 
	\item \textbf{Titel: }Initiale KIs \\ \textbf{Beschreibung: }Das Spiel kann über initiale KIs verfügen. 
\end{enumerate}
\textbf{Die Schnittstelle:}\\
Die Schnittstelle zur Kommunikation der KI(s) mit dem Spiel ist äquivalent zu Maus, Tastatur und Bildschirm für die Kommunikation zwischen Mensch und Spiel anzusehen. Eine Maschine, die das Spiel spielt, verfügt nicht über die gleichen Sinne wie ein Mensch, weshalb ein Weg gefunden werden muss, der es der Maschine ermöglicht, dennoch möglichst effizient Züge ausführen und Informationen erhalten zu  können. 

In diesem Fall wird die Sprache JSON für die Schnittstelle verwendet. Dementsprechend können Informationen in einem von der Programmiersprache unabhängigen Format versendet und empfangen werden. Hierdurch können die KI-Spieler in einer beliebigen geeigneten Programmiersprache definiert werden, sofern sie zum Senden und Empfangen von Informationen dasselbe Format nutzen. \\
Neben der geforderten Plattformunabhängigkeit gibt es noch weitere Anforderungen, die zu erfüllen sind, damit die Schnittstelle wie angedacht funktioniert. Im Folgenden sind alle Anforderungen aufgelistet:

\begin{enumerate}
	\item \textbf{Titel: }Austausch der KIs \\ \textbf{Beschreibung: }Die Schnittstelle muss es ermöglichen, dass die KIs ohne großen Aufwand ausgetauscht werden können und die Verwendung der Schnittstelle hierbei kein großes Hindernis darstellt. 
	\item \textbf{Titel: }Programmiersprachen \\ \textbf{Beschreibung: }Die Schnittstelle muss es ermöglichen, dass die KIs in unterschiedlichen Programmiersprachen geschrieben werden können, sofern sie das richtige Format zur Kommunikation verwenden.
	\item \textbf{Titel: }Funktion von KIs \\ \textbf{Beschreibung: }Die Schnittstelle muss es ermöglichen, dass statt realer Spieler zwei KIs gegeneinander antreten.
	\item \textbf{Titel: }Grundsatz der Fairness \\ \textbf{Beschreibung: }Die Schnittstelle muss gewährleisten, dass eine KI durch die Verwendung der Schnittstelle gegenüber einem realen Spieler im Grunde die gleichen Möglichkeiten hat.
	\item \textbf{Titel: }Zugänglichkeit von Informationen \\ \textbf{Beschreibung: }Die Schnittstelle muss Informationen vor der Einsicht anderer Spieler geschützt versenden. Damit ist gemeint, dass Informationen selektiv an einen bestimmten Spieler zu vergeben sind.
	\item \textbf{Titel: }Bereitstellung von gleichen Informationen \\ \textbf{Beschreibung: }Die Schnittstelle muss grundlegend dazu fähig sein, jedem KI-Spieler die gleichen Informationen bereitstellen, auf die auch ein menschlicher Spieler Zugriff hätte. Das bedeutet, das gewählte Kommunikationsformat muss dazu geeignet sein, diese Informationen zu übermitteln.
\end{enumerate}

Neben diesen Muss-Anforderungen gibt es auch für die Schnittstelle weitere Anforderungen, die erfüllt werden sollen bzw. können. Hierbei ist jedoch zu beachten, dass einige dieser Anforderungen auf die Soll- oder Kann-Anforderungen für das Spiel zurückzuführen sind und entsprechend für eine funktionierendes Feature implementiert werden müssen, sofern die korrespondierende Anforderung für das Spiel erfüllt wurde:

\begin{enumerate}
	\item \textbf{Titel: }Ereigniskarten für KI-Spieler \\ \textbf{Beschreibung: }Die Schnittstelle soll die Informationen über Ereigniskarten an KI-Spieler übermitteln und Anweisungen über diese von KI-Spielern annehmen. Dies gilt, sofern Anforderung 3 und 4 des Spiels erfüllt werden. 
	\item \textbf{Titel: }Räuber für KI-Spieler \\ \textbf{Beschreibung: }Die Schnittstelle soll es ermöglichen, dass sich ein KI-Spieler die Funktion des Räubers zunutze machen kann, wenn er eine Sieben würfelt.Dies gilt, wenn Anforderung 5 an das Spiel erfüllt wird.
	\item \textbf{Titel: }Anwendung der Schnittstelle auf einzelne Spieler \\ \textbf{Beschreibung: }Die Schnittstelle kann es realen und computergesteuerten Spielern gleichzeitig ermöglichen, das Spiel zu spielen. Dies gilt, wenn Anforderung 9 an das Spiel erfüllt wird.
\end{enumerate}

\section{Die Regeln und Anpassungen}
\label{sec:regeln}
In diesem Kapitel wurden bereits die allgemeinen Anforderungen an die zu entwickelnde Software erläutert. Dieser Abschnitt soll nun aufbauend darauf auf die Regeln des Spiels \textit{Siedler von Catan} eingehen und erklären, ob und wie einige dieser Regeln umgesetzt werden können. Allgemein wird Bezug auf das Regelbuch von Die Siedler von \textit{Die Siedler von Catan Catan-Almanach} (s. Anhang) genommen, welches in voller Länge im Anhang zu finden ist.

\textbf{Der Spielaufbau:}\\
Das Spielfeld besteht aus 19 Landschaftsfeldern, die wie folgt unterteilt sind: Viermal Wald, viermal Weideland, viermal Ackerland, dreimal Hügelland, dreimal Gebirge und einmal Wüste. Zusätzlich besteht das Spielfeld aus 18 Wasserfeldern, wovon neun über einen Hafen zum Handeln verfügen. Während die Landschaftsfelder in der späteren Implementation genauso verwendet werden, ist die Implementation der Wasserfelder davon abhängig, inwiefern die Soll-/Kann-Anforderungen umgesetzt werden. Außerdem soll auch der sogenannte Zufallsfaktor in der programmierten Variante des Spiels enthalten sein, sodass ? wie im Originalspiel - die 19 Landschaftsfelder zu Beginn zufällig angeordnet werden, wodurch neu begonnene Spiele sich mit hoher Wahrscheinlichkeit von dem vorherigen abheben.

Des Weiteren müssen die Zahlenchips auf die Landschaftsfelder verteilt werden. Jedes Mal, wenn eine Zahl gewürfelt wird und ein Spieler eine Siedlung oder eine Stadt auf einem Landschaftsfeld besitzt, auf dem ein Zahlenchip liegt, dessen Aufschrift der Summe der Augen beider Würfel entspricht, erhält dieser Spieler den entsprechenden Rohstoff: eine Einheit des jeweiligen Rohstoffes für jede Siedlung, die er auf diesem Feld besitzt; zwei Einheiten für jede Stadt. \\
Die Zahlenchips werden nach einer bestimmten Reihenfolge verteilt: 5, 2, 6, 3, 8, 10, 9, 12, 11, 4, 8, 10, 9, 4, 5, 6, 3, 11. Der erste Zahlenchip wird auf ein Eckfeld gelegt und die weiteren Chips werden ringsherum gegen den Uhrzeigersinn verteilt. Auffällig ist hierbei, dass statt 19 Chips nur 18 existieren, was darauf zurückzuführen ist, dass die Wüste frei bleibt, da diese keine Ressourcen liefert. Die Reihenfolge der Verteilung der Zahlenchips wird in Abb. \ref{fig:Spielfeld-Blueprint} verdeutlicht.

\begin{figure}
	\centering
	\includegraphics[width=6cm]{Bilder/Spielfeld-Blueprint.png}
	\caption{Verteilung der Zahlenchips auf dem Spielfeld (siehe Anhang Regelwerk S. 4)}
	\label{fig:Spielfeld-Blueprint}
\end{figure}

\textbf{Der Spielbeginn:}\\
Die ersten beiden Züge jedes Spielers laufen anders als die restlichen Züge des Spiels ab: In seinem ersten Zug darf jeder Spieler eine Siedlung und eine Straße platzieren ohne dafür Ressourcen ausgeben zu müssen. Gleiches gilt für den zweiten Spielzug, wobei die Spieler ihre Gebäude nun in entgegengesetzter Reihenfolge platzieren dürfen. Nach dem zweiten Spielzug jedes Spielers erhält der jeweilige Spieler entsprechend Ressourcen für seine zweite Siedlung (jedes angrenzende Landschaftsfeld außer der Wüste bringt ihm eine Ressource). In diesen ersten beiden Spielzügen wird weder gewürfelt, noch werden Ereigniskarten erworben.

\textbf{Gewöhnliche Spielzüge:}\\
Die Reihenfolge, in der die Spieler ihre Züge machen, entspricht nun wieder der der ersten Spielrunde. Die gewöhnlichen Spielzüge laufen von nun an  bis zum Ende des Spiels auf gleiche Weise ab: Zu Beginn seines Zuges würfelt der Spieler, woraufhin alle Spieler , wie bereits beschrieben, Ressourcen erhalten. Anschließend kann der Spieler, der jeweils am Zug ist, entweder etwas bauen oder eventuell handeln. Abschließend beendet der Spieler seinen Zug, sodass der Nächste dran ist. Im Detail läuft ein gewöhnlicher Spielzug wie folgt ab:
\begin{enumerate}
	\item \textbf{Würfeln:} Jeder Zug eines Spielers muss damit beginnen, dass er mit zwei Würfeln würfelt. Anhand der Summe der Augen beider Würfel, werden anschließend die Ressourcen verteilt. Wenn ein Zahlenchip der summierten Augenzahl entspricht, erhält ein Spieler mit einer Siedlung oder einer Stadt an diesem Feld für jede Siedlung die entsprechenden Ressourcen bzw. für jede Stadt jeweils zwei der entsprechenden Ressourcen.
	\item \textbf{Bauen:} Nachdem gewürfelt wurde, kann gebaut werden. Zum Bau stehen  Straßen, Siedlungen, Städte und Entwicklungen (wenn diese Anforderung umgesetzt wird) zur Verfügung, die mit den vorhandenen Ressourcen gekauft werden können.
	\item \textbf{(Handeln:)} Handeln kann entweder zum Abschluss des Spielzuges erfolgen oder bevor der Spieler baut. Da es sich hierbei jedoch um eine Kann-Anforderung handelt, wird dieser Spielbestandteil nur in Klammern angeführt. Ein Spieler kann entweder an den Häfen zu den jeweils angegebenen Verhältnissen,, mit der Bank im Verhältnis 4:1 oder mit einem anderen Spieler in einem beliebigen Verhältnis tauschen.
\end{enumerate}
\textbf{Ende des Spiels:}\\
Das Spiel endet, wenn einer der Spieler 10 Siegpunkte erreicht hat. Siegpunkte werden für unterschiedliche Errungenschaften im Spiel vergeben, so zum Beispiel für das Errichten von Siedlungen und Städten, aber auch für die \textit{Längste Handelsstraße} und die \textit{Größte Rittermacht}. Für die Implementation kann die Vergabe der Siegpunkte danach angepasst werden, wie die Strategiefindung der KI-Spieler beeinflusst werden soll. Interessant wäre hierbei zu sehen, ob bei verschiedenen Siegbedingungen unterschiedliche KIs einen Vorteil haben. Es ist möglich, dass eine KI, die das Bauen von Siedlungen favorisiert, mehr Spiele gewinnt, wenn dies mit mehr Siegpunkten belohnt wird. Stattdessen würde eine KI, die Wert auf längere Handelsstraßen und mehr Ereigniskarten legt, bei einer diese Strategie begünstigenden Gewichtung vermehrt siegen.

\textbf{Baukosten:}\\
Es wurde bereits beschrieben, dass das Bauen Teil eines gewöhnlichen Spielzugs ist. Zum Bauen können alle fünf verfügbaren Ressourcen verwendet werden: Lehm, Holz, Schafe, Getreide und Stein. Die Kosten für die einzelnen Gebäude setzen sich wie folgt zusammen:
\begin{enumerate}
	\item Straße: 1 Lehm, 1 Holz
	\item Siedlung: 1 Lehm, 1 Holz, 1 Schaf, 1 Getreide
	\item Stadt: 2 Getreide, 3 Stein
	\item Entwicklung: 1 Getreide, 1 Schaf, 1 Stein
\end{enumerate}

\textbf{Der Räuber:}\\
Die Implementation des Räubers ist Teil der Kann-Anforderungen. Sollte er jedoch implementiert werden, so sind zwei Varianten vorstellbar: Entweder wird der Räuber wird im vollen Umfang, was bedeutet, dass ein Spieler, der eine Sieben würfelt, den Räuber auf ein Feld setzen darf, welches dadurch keine Ressourcen mehr liefert. Außerdem könnte der jeweilige Spieler in dieser Variante einen gegnerischen Spieler auswählen, der eine Siedlung oder eine Stadt an diesem Landschaftsfeld hat und ihm eine zufällig ausgewählte Ressource stehlen. Alternativ hierzu kann nur der erste Teil umgesetzt werden, indem der Räuber zwar Felder blockiert, aber keinen Diebstahl ermöglicht.

\textbf{Häfen:}\\
In der Sektion \textit{Gewöhnliche Spielzüge} wird bereits das Handeln an Häfen erwähnt. Häfen sind Teil der Kann-Anforderungen und somit nicht zwingend Teil des Spiels. Sollten sie jedoch implementiert werden, sind verschiedene Stufen der Implementation denkbar: Die Mindestanforderung wäre, dass ein Spieler nur an einem Hafen handeln kann, wenn dieser eine Siedlung oder eine Stadt im Einzugsbereich dieses Hafens besitzt. \\
Im Brettspiel gibt es mehrere Arten von Häfen. Einige dieser Häfen sind an Rohstoffe gebunden und können im Verhältnis 2:1 für den Handel genutzt werden. Das bedeutet, beim Handel an einem Holzhafen würde eine Einheit Holz zwei Einheiten eines anderen Ressource kosten. Neben diesen gebundenen Häfen existieren auch ungebundene. Diese bieten ein Verhältnis von 3:1, sodass drei Einheiten eines Rohstoffes für eine Einheit eines beliebigen anderen Rohstoffes eingetauscht werden können. Als Abstufungen für die Implementation ist es denkbar, zunächst nur die ungebundenen und anschließend auch die gebundenen Häfen umzusetzen. \\
Betrachtet man den Handel an Häfen im gesamten Kontext des Spiels, lässt sich feststellen, dass die Kann-Anforderung \textit{Handel} zumindest als spätere Weiterentwicklung der Software zu empfehlen ist. Hierbei ist wahrscheinlich der Handel mit der Bank am wichtigsten, gefolgt vom Handel an den Häfen und dem Handel zwischen den Spielern. Eventuell könnte der Handel zwischen den Spielern auch höher als der Bank- und Hafenhandel priorisiert werden, da dieser einen interessanten strategischen Aspekt darstellt. \\
Er erscheint jedoch sinnvoll, den Bankhandel als erste Erweiterung der der Software zu Verfügung zu stellen, da es ohne diesen  zu Konstellationen kommen kann, in denen ein oder mehrere Spieler im Spiel nicht mehr vorankommen können. Dieser Zustand kann entstehen, wenn die Anfangssiedlungen ungeschickt platziert werden und kein Zugang zu den - für Straßen und Siedlungen nötigen - Rohstoffen besteht. Für einen Spieler, der sich in einer solchen Situation befindet, ist Handel der einzige Ausweg, da es ansonsten keine realistische Chance für ihn gibt, das Spiel noch für sich zu entscheiden. Eine genauere Erläuterung dieser Erweiterung ist in Kapitel \ref{sec:Ausblick} zu finden.

\section{Konzeption der Schnittstelle}
In diesem Kapitel wurden zwar bereits Aussagen über die Schnittstelle getroffen und Anforderungen an diese gestellt, jedoch wurde noch nicht erläutert, wie diese realisiert werden kann. Entsprechend soll letzteres hier nachgeholt werden, wobei zu beachten ist, dass die Umsetzung der Schnittstelle zur Erfüllung der Anforderungen in einer bestimmten Weise erfolgen muss: Betrachtet man nochmals die gestellten Anforderungen, so lassen sich die ersten beiden bereits dadurch lösen, dass JSON als Kommunikationsmedium genutzt wird. Anforderung 3 (s.o.) hängt eng mit einer korrekten Umsetzung zusammen, was zwar wichtig ist, jedoch das Konzept an sich nicht beeinflusst. Aus Anforderung 4 (s.o.) hingegen lassen sich deutlich mehr Aspekte extrahieren. Diese besagt, dass eine KI einem realen Spieler gegenüber keine Vor- oder Nachteile haben darf, die allein dadurch entstehen, dass sie eine KI ist. Dieser Zusammenhang kann auch als Fairness aufgefasst werden. Konkret bedeutet das für die Umsetzung, dass eine KI nur die gleichen Optionen zu den jeweiligen Zeitpunkten im Spiel wie ein menschlicher Spieler hat. Hieraus geht hervor, dass das Timing einer Rolle für die Anfragen und deren Verarbeitung spielt. Wenn eine KI beispielsweise den Bau einer Siedlung anfragt während sie nicht an der Reihe ist, muss der Bau einer solchen Siedlung abgelehnt werden. Da das Spiel zu jeder Zeit weiß, wer an der Reihe ist, kann festgelegt werden, dass nur die Anfragen des Spielers verarbeitet werden, der auch gerade einen Spielzug ausführt. Das Zustand eines Zuges selbst, ist jedoch auch von Relevanz, da ein Spielzug immer mit dem Rollen der Würfel beginnen muss. Am besten ließe sich dieses Problem dadurch lösen, Anfragen nur in einer bestimmten Reihenfolge zu erlauben: Zunächst würde gewürfelt und erst anschließend daran könnte gehandelt oder gebaut werden, ein  erneutes Würfeln würde dabei verhindert. Beendet die KI  ihren Spielzug, verlöre sie die Berechtigung dazu, Anweisungen jeglicher Art ausführen zu lassen, wieder. Zudem sind in den ersten beiden Zügen jedes Spielers Aktionen erlaubt, die in den restlichen Aktionen nicht zugelassen werden würden (siehe Kapitel \ref{sec:regeln}), was auch einen Einfluss auf das Annehmen einiger Anfragen hat. Optimal ließe sich dieses Problem lösen, indem im Spiel selbst eine Verzahnung der KIs und der menschlichen Spieler erfolge. Damit ist gemeint, dass die gleichen Bedingungen für KIs genutzt werden, die auch einem realen Spieler Funktionen freischalten oder sperren.

Ein weiterer wichtiger Aspekt, der durch die Anforderungen aufgegriffen wird, ist der Umgang mit Informationen. Anforderung 4 (s.o.) beschreibt zusätzlich, dass eine KI zu keinem Zeitpunkt im Spiel prinzipiell bevorteilt oder benachteiligt werden darf. Wichtig ist hierbei, dass die Schnittstelle nicht dauerhaft alle Informationen senden muss, sondern dass das grundlegende Vorhandensein der Möglichkeit ausreicht. Wahrscheinlich werden die initialen KIs nicht alle Informationen benötigen bzw. verarbeiten können, die ein Mensch nutzen würde. Allerdings sollte das Format grundlegend auch umfangreichere Informationen übermitteln können. Dieses Prinzip ist analog zur Interaktion mit einem realen Spieler. Das Spiel hält die Informationen auf der Spielfläche aktuell, zwingt den Spieler jedoch nicht, diese auch zu jedem Zeitpunkt wahrzunehmen. Er schaut sie sich bei Bedarf an. Genauso sollte auch mit einem KI-Spieler verfahren werden. Wenn die KI Informationen anfragt, auf die auch ein realer Spieler Zugriff hat, werden diese übermittelt, aber sie werden nicht dauerhaft gesendet. Diese Überlegung könnte dazu führen, dass der Zeitpunkt des Anfragens zu einem strategischen Element wird -  allerdings nur dann,  wenn die Anzahl der Anfragen begrenzt wird, was hier nicht der Fall ist, da ein realer Spieler auch in der Lage ist, Informationen beliebig oft wahrzunehmen.

Anforderung 5 (s.o.) geht in die gleiche Richtung wie die eben beschriebene, wobei hier der Fokus auf dem Schützen der versendeten Informationen liegt. Ähnlich zum realen Spieler, der seine Ressourcen vor den Gegnern geheim halten kann, muss es auch einer KI ermöglicht werden, die Menge an Ressourcen und den Inhalt seiner Anfragen vor den Gegnern zu verschleiern. Lediglich das, was auf dem Spielfeld vonstatten geht, sollte den Gegnern einen Einblick in die Strategie eines Spielers ermöglichen. Daher ist es wichtig, die Antwort des Spiels als Einzelnachricht zu realisieren und nicht allen in Form eines Broadcasts mitzuteilen. Es klingt möglicherweise trivial, soll hier aber erwähnt werden, weil es einen fundamentalen Beitrag zur Fairness liefert. \\
Aus den Ausführungen Anforderung 4 und 5 (s.o.) geht zudem die Einhaltung der Anforderung 6 (s.o), realen und KI-Spielern grundlegend die gleichen Informationen bereitstellen zu können wie realen Spielern, hervor.

Durch die Einhaltung der beschriebenen Anforderungen seitens des Spiels wird den KIs eine hohe Gestaltungsfreiheit gelassen. Dadurch, dass die KIs entscheiden können, wann sie Informationen über Ressourcen abfragen, müssen sie ihre Strategie nicht an den Zeitpunkt des Erhaltens der Information anpassen. Dennoch gibt es einige Anweisungen, die das Spiel an die KI-Spieler senden muss, ohne auf Anfragen von diesen zu warten: Das betrifft zum Beispiel die Information darüber, ob ein Spieler gerade an der Reihe ist. Hier würde eine Abfrage durch jeden Spieler keinen Sinn ergeben, weil diese dauerhaft erfolgen müssten. Einfacher ist es für den Ablauf des Spiels, wenn das Spiel nach jedem Spielerwechsel eine Nachricht an die Spieler sendet. Ferner müssen plötzliche Ereignisse sofort an die Spieler übermittelt werden. Das beste Beispiel hierfür ist das Nutzen des Räubers. Wenn der Räuber versetzt wird und einem Spieler eine Ressourcenkarte entwendet wird, muss dies ? zumindest den betroffenen Spielern - unmittelbar mitgeteilt werden, da dies möglicherweise wichtig für die Strategiebildung ist. Allgemein könnte auch eine Art doppelte Absicherung eingeführt werden, bei denen Änderungen an den Beständen von Ressourcen eines Spielers direkt übermittelt werden, aber zusätzlich Abfragen durch die KI erfolgen können, um es dieser zu ermöglichen, vor dem Bau von Siedlungen, Straßen, etc. auf jeden Fall Informationen über die aktuelle Zahl an verfügbaren Ressourcen zu haben.

Neben den hier offensichtlichen Anfragen und Antworten gibt es weitere fundamentale Informationen, über die jede KI verfügen muss. Die fundamentalste ist hierbei die über den Aufbau des Spielfelds: Jede KI muss wissen, welches Feld an welcher Stelle liegt, damit sie eine Strategie bilden kann. Da die Initialisierung des Spielfelds jedoch nur zu Beginn erfolgt und das Spielfeld danach gleichbleibend ist, sollte eine Art Initialisierungsnachricht an die KI-Spieler gesendet werden, sobald das Spiel fertig initialisiert ist, um das Entwickeln einer anfänglichen Strategie zu ermöglichen. Zur Veranschaulichung folgt eine Tabelle aller Anfragen und Antworten, inklusive der jeweiligen Zeitpunkte, Absender und Empfänger. Die gezeigten Nachrichten verdeutlichen, wie umfangreich die Kommunikation zwischen Spiel, Schnittstelle und dem computergesteuerten Spieler werden kann. Es wird jede Tätigkeit abgebildet, die auch einem menschlichen Spieler zur Verfügung stehen würde. Dies würde der Implementierung aller Anforderungen gleichkommen.


\begin{table}
	\caption{Geplante Kommunikation zwischen Schnittstelle und KI-Spieler}
	\label{tab:Nachrichten}
	\begin{tabularx}{15cm}{X|X|X|X|X}
		\fett{Nachricht} & Absender & Empfänger & Zeitpunkt & Aktion/Antwort\\
		\hline
		Aufbau Spielfeld & Spiel & Spieler & Nach Initialisierung & Empfangs-
		bestätigung \\
		\hline
		Siedlungsbau- menü öffnen/ schließen & Spieler & Spiel & Im eigenen Zug nach Würfeln & Menü öffnen, schließen oder ablehnen \\
		\hline
		Bau Siedlung & Spieler & Spiel & Im eigenen Zug bei geöffneten Baumenü & Bau Siedlung oder ablehnen \\
		\hline
		Stadtbaumenü öffnen/ schließen & Spieler & Spiel & Im eigenen Zug nach Würfeln & Menü öffnen, schließen oder ablehnen \\
		\hline
		Bau Stadt & Spieler & Spiel & Im eigenen Zug bei geöffneten Baumenü & Bau oder ablehnen \\
		\hline
		Straßenbaumenü öffnen/ schließen & Spieler & Spiel & Im eigenen Zug nach Würfeln & Menü öffnen, schließen oder ablehnen \\
		\hline
		Bau Straße & Spieler & Spiel & Im eigenen Zug bei geöffneten Baumenü Bau oder ablehnen & Bau Straße oder ablehnen \\
		\hline
		Kauf Ereigniskarte & Spieler & Spiel & Im eigenen Zug nach Würfeln & Ereigniskarte \\
		\hline
		Einsatz Ereigniskarte & Spieler & Spiel & Im eigenen Zug nach Würfeln & Effekt \\
		\hline
		Verschiebung Räuber & Spiel & Spieler & Bei gewürfelter Sieben oder Ereigniskarte & Spiel öffnet Verschiebunsmenü für Spieler\\
		\hline
	\end{tabularx}
\end{table}

\begin{table}
	\caption{Geplante Kommunikation zwischen Schnittstelle und KI-Spieler (Fortführung)}
	\label{tab:Nachrichten2}
	\begin{tabularx}{15cm}{X|X|X|X|X}
		Diebstahl Ressource & Spiel & Spieler & Nach Verschiebung des Räubers & Spiel öffnet Diebstahlmenü \\
		\hline
		Spielende & Spiel & Spieler & Wenn ein Spieler die Mindestanzahl der nötigen Siegespunkte erreicht & Spiel verkündet Sieger als Broadcast \\
		\hline
		Aktualisierung Ressourcen & Spiel & Spieler & nach jeder Änderung der Ressourcen eines Spielers & Spiel versendet die neuen Mengen der Ressourcen. \\
		\hline
		Zugende & Spiel & Spieler & Zum Ende eines Zuges nach dem Würfeln & Broadcast: Aktualisierung aktueller Spieler \\
		\hline
		Würfeln & Spieler & Spiel & Zu Beginn jedes Zuges & Summe der Augen \\
		\hline
		Ressourcen- abfrage & Spieler & Spiel & Bei Bedarf & Spiel antwortet mit Aktualisierung Ressourcen \\
		\hline
		Handelsanfrage & Spieler & Spieler & Im Spielzug nach dem Würfeln & Schnittstelle ermöglicht eine Antwort durch andere Spieler ja/nein \\
		\hline
	\end{tabularx}
\end{table}

